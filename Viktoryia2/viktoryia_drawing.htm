<html>
	<head>
		<title>KABK - tekenen</title>
		<script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
	    <script src="lib/MochiKit/Base.js" type="text/javascript"></script>
	    <script src="lib/MochiKit/DOM.js" type="text/javascript"></script>
	    <script src="lib/MochiKit/Style.js" type="text/javascript"></script>
	    <script src="lib/MochiKit/Color.js" type="text/javascript"></script>
		<script src="lib/SVGKit.js"></script>
		<script src="lib/SVGCanvas.js"></script>
	</head>
	
	<body onload="init();">
		<canvas id="canvas1" width="1000" height="1000" style="display:none;"></canvas>
<!--		<canvas id="canvas2" width="1000" height="1000" ></canvas> -->
		<img id="image" src="prt_682x1024_1415830074.jpg" style="display:none;">

		<script type="text/javascript" >
			init = function() {
			 	var context1 = document.getElementById('canvas1').getContext('2d');
//			 	var context2 = document.getElementById('canvas2').getContext('2d');
   				var context2 = new SVGCanvas( $( window ).width(), $( window ).height() );
				$( 'body' ).append( context2.svg.svgElement );

				var htmlImage = $( '#image' )[ 0 ];
				context1.drawImage( htmlImage, 0, 0 );

/*				for( y = 0; y < htmlImage.height; y++ ){
					for( x = 0; x < htmlImage.width; x++ ){
						var imageData = context1.getImageData( x, y, 1, 1 );
						var pixel = imageData.data;
						var red = pixel[ 0 ];
						var green = pixel[ 1 ];
						var blue = pixel[ 2 ];

						context2.fillStyle = 'rgb( ' + red + ', ' + green + ', ' + blue + ' )';
						context2.beginPath();
						context2.arc( x * 10, y * 10, Math.random() * 10, 0, 2 * Math.PI );
						context2.fill();

					}
				}

				for( var i = 0; i < 1000; i++ ){
					var x = Math.round( Math.random() * htmlImage.width );
					var y = Math.round( Math.random() * htmlImage.width );
					var imageData = context1.getImageData( x, y, 1, 1 );
					var pixel = imageData.data;
					var red = pixel[ 0 ];
					var green = pixel[ 1 ];
					var blue = pixel[ 2 ];
					
					context2.fillStyle = 'rgb( ' + red + ', ' + green + ', ' + blue + ' )';
					context2.beginPath();
					context2.arc( x * 10, y * 10, Math.random() * 10, 0, 2 * Math.PI );
					context2.fill();
				}
*/
				for( var i = 0; i < 1000; i++ ){
					var x = Math.round( Math.random() * htmlImage.width );
					var y = Math.round( Math.random() * htmlImage.width );
					var imageData = context1.getImageData( x, y, 1, 1 );
					var pixel = imageData.data;
					var red = pixel[ 0 ];
					var green = pixel[ 1 ];
					var blue = pixel[ 2 ];

					var x1 = x * 10 + ( Math.random() - 0.5 ) * 100;
					var y1 = y * 10 + ( Math.random() - 0.5 ) * 100;
					var x2 = x * 10 + ( Math.random() - 0.5 ) * 100;
					var y2 = y * 10 + ( Math.random() - 0.5 ) * 100;

					context2.strokeStyle = 'rgb( ' + red + ', ' + green + ', ' + blue + ' )';
					context2.lineWidth = Math.random() * 20;
					context2.beginPath();
					context2.moveTo( x1, y1 );
					context2.lineTo( x2, y2 );
					context2.stroke();
				}


			}
	   </script>
	</body>
</html>

